<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link
        rel="stylesheet"
        href="../../static/css/memberDelete.css"
        th:href="@{/css/memberDelete.css}"
    />
<title>íƒˆí‡´í™”ë©´</title>
</head>
<body>

<div class="wrapper">
    <!-- Header  -->

    <header>
        <div class="top">
            <div class="logo">
                <a th:href="@{/}">
                    <img src="../../img/black-yagiyo.png" alt=""
                    /></a>
            </div>

            <!--      ê²€ìƒ‰ì–´   -->
            <div class="search_box">
                <form th:action="@{/search}" method="get">
                    <input type="text" name="query" value=""/>
                    <button type="submit"></button>
                </form>
                <!-- <p id="recent-search"></p> -->
            </div>

            <nav class="gnb_box">
                <span class="hot">HOT</span>
                <a th:href="@{/name}">ğŸ“AIë¶„ì„</a>
                <a href="/board/paging">ì»¤ë®¤ë‹ˆí‹°</a>
                <a th:href="@{/map}">ì•½êµ­ì •ë³´</a>
                <th:bolck
                        class="mypage"
                        th:unless="${session.isEmpty()}"
                >
                    <a href="" th:href="@{|/mypage/${session.loginMember.memberId}/fix|}">ë§ˆì´í˜ì´ì§€</a>
                </th:bolck>

                <div>
                    <th:bolck
                            class="login"
                            th:if="${session.isEmpty()}"
                    >
                        <a href="" th:href="@{/login}">ë¡œê·¸ì¸</a>
                    </th:bolck>
                    <th:bolck
                            class="logout"
                            th:unless="${session.isEmpty()}"
                    >
                        <a href="" th:href="@{/logout}">ë¡œê·¸ì•„ì›ƒ</a>
                    </th:bolck>
                </div>
            </nav>
        </div>
    </header>

<div class="delete">

<h1 class="h1">(ã… _ã… )</h1>
<h2 class="h2"> ì •ë§ë¡œ <span>íƒˆí‡´</span>í•˜ì‹œê² ìŠµë‹ˆê¹Œ?</h2>
<!--<h5>íšŒì›ì„ íƒˆí‡´í•˜ì‹¤ë ¤ë©´ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.</h5>-->
<form th:object="${memberDeleteForm}" method="post" action="">
<div class="passwd">
    <input type="password" id="pw" name="pw" placeholder="íšŒì›ì„ íƒˆí‡´í•˜ì‹¤ë ¤ë©´ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”." >
    <div id="pwError">ã€€</div>
    <button th:onclick="'javascript:history.back()'" type="button">ë’¤ë¡œê°€ê¸°</button><br>
    <button disabled="true" type="submit" id="buttonDel">íƒˆí‡´</button>
</div>
    <!-- ëª¨ë‹¬ì°½ ì¶”ê°€ -->
    <div id="myModal" class="modal" hidden="true" >
        <div class="modal-content">
            <h4>ì •ë§ë¡œ íƒˆí‡´í•˜ì‹œê² ìŠµë‹ˆê¹Œ?</h4>
            <button id="confirmDel">í™•ì¸</button>
            <button id="cancelDel">ì·¨ì†Œ</button>
        </div>
    </div>
</form>



    <footer>
        <div class="footer_area">
            <div class="top">
                <img
                        class="footer_img"
                        th:src="@{../../img/white-yagiyo.png}"
                        alt=""
                />
                <div class="footer_menu">
                    <a href="">ì´ìš©ì•½ê´€</a>
                    <a href="">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>
                </div>
            </div>

            <!--footer - bottom  -->

            <div class="bottom">
                <div class="info">
                    <span class="title">ì£¼(ì•¼ê¸°ìš”)</span>
                    <p></p>
                </div>
            </div>

            <!--footer - copyright -->

            <div class="copyright">
                <p>Copyright 2023 YAGIYO. Allrights reserved.</p>
            </div>
        </div>
    </footer>
</div>

<script th:inline="javascript">
    const pwError = document.getElementById("pwError");
    const pw = document.getElementById("pw");
    const buttonDel = document.getElementById("buttonDel");
    const modal = document.getElementById("myModal");
    const confirmBtn = document.getElementById("confirmDel");
    const cancelBtn = document.getElementById("cancelDel");

    pw.addEventListener("input", function(e) {
        if (pw.value === /*[[${session.loginMember.pw}]]*/ '') {
            pwError.style.color = 'green';
            pwError.innerHTML = "ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•©ë‹ˆë‹¤."
            buttonDel.disabled = false;
        } else {
            pwError.style.color = 'red';
            pwError.innerHTML = "ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.";
            buttonDel.disabled = true;
        }
    });

    // íƒˆí‡´ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ëª¨ë‹¬ì°½ í‘œì‹œ
    buttonDel.addEventListener("click", function(e) {
        e.preventDefault();
        myModal.hidden = false;
        modal.style.display = "block";
    });

    // í™•ì¸ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ íƒˆí‡´ ì‹¤í–‰
    confirmBtn.addEventListener("click", function(e) {
        modal.style.display = "none";
        document.querySelector('form').submit(); // íƒˆí‡´ í¼ ì œì¶œ
    });

    // ì·¨ì†Œ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ëª¨ë‹¬ì°½ ìˆ¨ê¹€
    cancelBtn.addEventListener("click", function(e) {
        modal.style.display = "none";
    });
</script>
</div>
</body>
</html>
