<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link
        rel="stylesheet"
        href="../../static/css/memberFix.css"
        th:href="@{/css/memberFix.css}"
    />

    <title>ë§ˆì´í˜ì´ì§€</title>
</head>
<body>
<div class="wrapper">
    <!-- Header  -->

    <header>
        <div class="top">
            <div class="logo">
                <a th:href="@{/}">
                    <img src="../../img/black-yagiyo.png" alt=""
                    /></a>
            </div>

            <!--      ê²€ìƒ‰ì–´   -->
            <div class="search_box">
                <form th:action="@{/search}" method="get">
                    <input type="text" name="query" value=""/>
                    <button type="submit"></button>
                </form>
                <!-- <p id="recent-search"></p> -->
            </div>

            <nav class="gnb_box">
                <span class="hot">HOT</span>
                <a th:href="@{/name}">ğŸ“AIë¶„ì„</a>
                <a href="/board/paging">ì»¤ë®¤ë‹ˆí‹°</a>
                <a th:href="@{/map}">ì•½êµ­ì •ë³´</a>
                <th:bolck
                        class="mypage"
                        th:unless="${session.isEmpty()}"
                >
                    <a href="" th:href="@{|/mypage/${session.loginMember.memberId}/fix|}">ë§ˆì´í˜ì´ì§€</a>
                </th:bolck>

                <div>
                    <th:bolck
                            class="login"
                            th:if="${session.isEmpty()}"
                    >
                        <a href="" th:href="@{/login}">ë¡œê·¸ì¸</a>
                    </th:bolck>
                    <th:bolck
                            class="logout"
                            th:unless="${session.isEmpty()}"
                    >
                        <a href="" th:href="@{/logout}">ë¡œê·¸ì•„ì›ƒ</a>
                    </th:bolck>
                </div>
            </nav>
        </div>
    </header>

<div class="title"><h2>íšŒì›ì •ë³´ìˆ˜ì •</h2></div>
<div class="fix">

<form th:object="${memberFixForm}" method="post" action="">
<input type="hidden" th:name="id" th:value="${session.loginMember.id}">
<input type="hidden" th:name="nick" th:value="${session.loginMember.nick}">
<input type="hidden" th:name="email" th:value="${session.loginMember.email}">
<!--<div>-->
<!--    <label for="memberId">ë©¤ë²„ë²ˆí˜¸ :</label>-->
<!--    <span th:text="${session.loginMember.memberId}"></span>-->
<!--</div>-->
    <br>
    <div>
    <label for="id">ì•„ì´ë””</label><br>
    <span class="id" th:text="${session.loginMember.id}"></span>
    </div>
    <br>
    <div>
    <label for="pw">ë¹„ë°€ë²ˆí˜¸</label><br>
    <input class="passwd" type="password" id="pw" name="pw" th:value="${session.loginMember.pw}" placeholder="ìˆ˜ì •í•  ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”"/>
    <div id="pwError"></div>
    </div>
    <br>
    <div>
    <label for="nick">ë‹‰ë„¤ì„</label><br>
    <span class="nickname" th:text="${session.loginMember.nick}"></span>
    </div>
    <br>
    <div>
    <label for="email">ì´ë©”ì¼</label><br>
    <span class="email" th:text="${session.loginMember.email}"></span>
    </div>
    <br>
<!--    <div>-->
<!--    <label for="gender">ì„±ë³„ :</label>-->
<!--        <input type="text" id="gender" name="gender" th:value="${session.loginMember.gender}" placeholder="ì„±ë³„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”"/>-->
<!--    </div>-->
    <div class="gender">
        <label for="gender"></label>
        <input type="radio" id="male" name="gender" value="male" th:checked="${session.loginMember.gender == 'male'}">
        <label for="male">ë‚¨ì„±</label>
        <input type="radio" id="female" name="gender" value="female" th:checked="${session.loginMember.gender == 'female'}">
        <label for="female">ì—¬ì„±</label>
    </div>

    <br>
<!--    <div>-->
<!--    <label for="age">ë‚˜ì´ :</label>-->
<!--        <input type="text" id="age" name="age" th:value="${session.loginMember.age}" placeholder="ë‚˜ì´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”"/>-->
<!--    </div>-->
    <div class="ageArea">
        <label for="age">ë‚˜ì´</label><br>
        <input type="date" id="age" name="age" th:value="${session.loginMember.age}" placeholder="ë‚˜ì´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”"/>
    </div>
    <br>
    <div class="btn">
        <button id="fixBtn" class="click" type="submit" th:text="#{button.update}" />
        <div class="delete"><a th:href="@{|/mypage/${session.loginMember.memberId}/delete|}">íƒˆí‡´ </a></div>
    </div>
</form>
</div>

    <footer>
        <div class="footer_area">
            <div class="top">
                <img
                        class="footer_img"
                        th:src="@{../../img/white-yagiyo.png}"
                        alt=""
                />
                <div class="footer_menu">
                    <a href="">ì´ìš©ì•½ê´€</a>
                    <a href="">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>
                </div>
            </div>

            <!--footer - bottom  -->

            <div class="bottom">
                <div class="info">
                    <span class="title">ì£¼(ì•¼ê¸°ìš”)</span>
                    <p></p>
                </div>
            </div>

            <!--footer - copyright -->

            <div class="copyright">
                <p>Copyright 2023 YAGIYO. Allrights reserved.</p>
            </div>
        </div>
    </footer>
</div>


<script>

{
//ë¹„ë°€ë²ˆí˜¸ í—ˆìš©ê¸¸ì´ ì²´í¬
const $pwError = document.getElementById('pwError');
const $pw = document.getElementById('pw');
function pwLengthChk() {
  const pwValue = $pw.value;
  if (pwValue.length > 7 && pwValue.length < 21) {
    $pwError.style.color = 'green';
    $pwError.innerHTML = 'Success';
  } else if (pwValue.length < 7 && pwValue.length > 0) {
    $pwError.style.color = 'red';
    $pwError.innerHTML = 'íŒ¨ìŠ¤ì›Œë“œ ê¸¸ì´ê°€ ë„ˆë¬´ ì§§ìŠµë‹ˆë‹¤.';
  } else if (pwValue.length > 21) {
    $pwError.style.color = 'red';
    $pwError.innerHTML = 'íŒ¨ìŠ¤ì›Œë“œ ê¸¸ì´ê°€ ë„ˆë¬´ ê¹ë‹ˆë‹¤.';
  } else if (pwValue == '') {
    $pwError.innerHTML = '';
  }
}
$pw.addEventListener('input', pwLengthChk);
}

{
//ë¹„ë°€ë²ˆí˜¸ í—ˆìš©ë¬¸ì ì²´í¬

const $pw = document.getElementById('pw');
const $pwError = document.getElementById('pwError');
$pw.addEventListener('input', function () {
  const inputValue = $pw.value;
  const regex = /[^A-Za-z0-9]/g;
  if (regex.test(inputValue)) {
    $pwError.style.color = 'red';
    $pwError.innerHTML = 'ì˜ëª»ëœì…ë ¥ì…ë‹ˆë‹¤.';
  }
});
}

fixBtn.addEventListener('click', function(){
alert("íšŒì› ì •ë³´ ìˆ˜ì •ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.");
})

</script>
</body>
</html>